{{ form_start(form, {
    'attr': {
        'id':'property-form'
    }
}) }}
<div class="row">
    <div class="col-md-8">
        <div class="row">
            <div class="col-md-4">{{ form_row(form.title) }}</div>
            <div class="col-md-4">{{ form_row(form.surface) }}</div>
            <div class="col-md-4">{{ form_row(form.price) }}</div>
        </div>
        <div class="row">
            <div class="col-md-3">{{ form_row(form.rooms) }}</div>
            <div class="col-md-3">{{ form_row(form.bedrooms) }}</div>
            <div class="col-md-3">{{ form_row(form.heat) }}</div>
            <div class="col-md-3">{{ form_row(form.floor) }}</div>
        </div>
        <div class="row">
            {# <div class="col-md-2">{{ form_row(form.imageFile) }}</div> #}
            <div class="col-md-3">{{ form_row(form.address) }}</div>
            <div class="col-md-2">{{ form_row(form.city) }}</div>
            <div class="col-md-2">{{ form_row(form.postal_code) }}</div>
            <div class="col-md-2">{{ form_row(form.sold) }}</div>
        </div>
        {{ form_row(form.description) }}
        {{ form_row(form.options) }}
            <button class="btn btn-primary" id="submit_button">{{ button|default('Enregistrer') }}</button>    
    </div>
    <div class="col-md-4">
        <div class="images row" data-index="{{ form.images|length > 0 ? form.images|last.vars.name + 1 : 0 }}" data-prototype="{{ form_row(form.images.vars.prototype)|e('html_attr') }}">
            <input type="hidden" value="{{ photoMax }}" id="photoMax">
            
            {% for image in form.images %}
                <div class="col-lg-6">
                {% if image.vars.data.name %}
                    <img src="{{ asset('uploads/images/') ~ image.vars.data.name }}" class="w-100 h-auto card-img-top" />
                {% else %}
                    <img src="{{ asset('/images/no-img.png') ~ image.vars.data.name }}" class="w-100 h-auto card-img-top" />
                {% endif %}
                    {{ form_row(image.file) }}
                </div>
            {% endfor %}
        </div>

        <div class="row">
            <div class="col-lg-12 mt-4">
                {{ form_errors(form) }}
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <button type="button" class="add_item_link btn btn-success mt-3" data-collection-holder-class="images">Add an image</button>
            </div>
        </div>
    </div>
</div>
{{ form_end(form) }}

{% block stylesheets %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" integrity="sha512-nMNlpuaDPrqlEls3IX/Q56H36qvBASwb3ipuo3MxeWbsQB1881ox0cRv7UPTgBlriqoynt35KjEwgGUeUXIPnw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
{% endblock %}

{% block javascripts %}
    <script src="{{asset('/script/property/property.js')}}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js" integrity="sha512-2ImtlRlf2VVmiGZsjm9bEyhjGW4dU7B6TNwh/hx/iSByxNENtj3WVE6o/9Lj4TJeVXPi4bnOIMXFIJJAeufa0A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        $('select').select2();
    </script>
{% endblock %}